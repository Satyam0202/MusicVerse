<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Vibes">
    <meta name="theme-color" content="#667eea">
    <title>Vibes - Your Music Universe</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-music"></i>
                <h1>Vibes</h1>
            </div>
            
            <nav class="nav-menu">
                <a href="#" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-search"></i>
                    <span>Search</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-fire"></i>
                    <span>Trending</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-heart"></i>
                    <span>Favorites</span>
                </a>
            </nav>

            <div class="playlists">
                <h3>Your Playlists</h3>
                <div class="playlist-item">
                    <i class="fas fa-list"></i>
                    <span>Chill Vibes</span>
                </div>
                <div class="playlist-item">
                    <i class="fas fa-list"></i>
                    <span>Workout Mix</span>
                </div>
                <div class="playlist-item">
                    <i class="fas fa-list"></i>
                    <span>Late Night</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search for songs, artists, albums...">
                </div>
                <div class="user-section">
                    <button class="btn-theme" id="themeToggle">
                        <i class="fas fa-sun"></i>
                    </button>
                    <button class="btn-upgrade">
                        <i class="fas fa-crown"></i>
                        Upgrade
                    </button>
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            </header>

            <section class="hero">
                <h2>Good Evening</h2>
                <div class="quick-picks">
                    <div class="quick-card" data-song="o Mere.mp4" data-title="O Mere Dil Ke Chain" data-artist="Kishore Kumar" data-poster="dil_chain.png">
                        <div class="card-img">
                            <img src="dil_chain.png" alt="O Mere Dil Ke Chain" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                        </div>
                        <span>O Mere Dil Ke Chain</span>
                    </div>
                    <div class="quick-card">
                        <div class="card-img" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-music"></i>
                        </div>
                        <span>Daily Mix 1</span>
                    </div>
                    <div class="quick-card">
                        <div class="card-img" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-heart"></i>
                        </div>
                        <span>Liked Songs</span>
                    </div>
                    <div class="quick-card">
                        <div class="card-img" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                            <i class="fas fa-fire"></i>
                        </div>
                        <span>Top Hits</span>
                    </div>
                    <div class="quick-card">
                        <div class="card-img" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                            <i class="fas fa-star"></i>
                        </div>
                        <span>Discover Weekly</span>
                    </div>
                </div>
            </section>

            <section class="section">
                <div class="section-header">
                    <h2>Trending Now</h2>
                    <a href="#" class="see-all">See all</a>
                </div>
                <div class="cards-grid">
                    <div class="music-card" data-song="o Mere.mp4" data-title="O Mere Dil Ke Chain" data-artist="Kishore Kumar" data-poster="dil_chain.png"></div>
                        <div class="card-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <img src="dil_chain.png" alt="O Mere Dil Ke Chain" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>O Mere Dil Ke Chain</h3>
                        <p>Kishore Kumar</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Midnight Dreams</h3>
                        <p>Electronic Vibes</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Summer Beats</h3>
                        <p>Pop Collection</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Acoustic Sessions</h3>
                        <p>Indie Folk</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Hip Hop Nation</h3>
                        <p>Urban Hits</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Rock Legends</h3>
                        <p>Classic Rock</p>
                    </div>
                </div>
            </section>

            <section class="section">
                <div class="section-header">
                    <h2>Made For You</h2>
                    <a href="#" class="see-all">See all</a>
                </div>
                <div class="cards-grid">
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Your Mix</h3>
                        <p>Personalized playlist</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Discover</h3>
                        <p>New releases for you</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Chill Mode</h3>
                        <p>Relax and unwind</p>
                    </div>
                    <div class="music-card">
                        <div class="card-image" style="background: linear-gradient(135deg, #ff6e7f 0%, #bfe9ff 100%);">
                            <i class="fas fa-play play-btn"></i>
                        </div>
                        <h3>Focus Flow</h3>
                        <p>Concentration music</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="audioPlayer" preload="metadata">
        <source src="o Mere.mp4" type="audio/mp4">
    </audio>

    <!-- Player -->
    <div class="player">
        <div class="player-left">
            <div class="now-playing-img">
                <img src="dil_chain.png" alt="O Mere Dil Ke Chain" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
            </div>
            <div class="now-playing-info">
                <h4>O Mere Dil Ke Chain</h4>
                <p>Kishore Kumar</p>
            </div>
            <button class="btn-icon">
                <i class="far fa-heart"></i>
            </button>
        </div>

        <div class="player-center">
            <div class="player-controls">
                <button class="btn-icon"><i class="fas fa-random"></i></button>
                <button class="btn-icon"><i class="fas fa-step-backward"></i></button>
                <button class="btn-icon btn-play"><i class="fas fa-play"></i></button>
                <button class="btn-icon"><i class="fas fa-step-forward"></i></button>
                <button class="btn-icon"><i class="fas fa-redo"></i></button>
            </div>
            <div class="progress-bar">
                <span class="time">1:23</span>
                <div class="progress">
                    <div class="progress-filled" style="width: 35%"></div>
                </div>
                <span class="time">3:45</span>
            </div>
        </div>

        <div class="player-right">
            <button class="btn-icon"><i class="fas fa-list"></i></button>
            <button class="btn-icon"><i class="fas fa-volume-up"></i></button>
            <div class="volume-bar">
                <div class="volume-filled" style="width: 70%"></div>
            </div>
        </div>
    </div>

    <!-- Install prompt -->
    <div class="install-prompt" id="installPrompt">
        <div class="install-content">
            <i class="fas fa-download"></i>
            <div>
                <h4>Install Vibes App</h4>
                <p>Get the full app experience</p>
            </div>
            <button class="btn-install" id="installBtn">Install</button>
            <button class="btn-close" id="closePrompt">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(reg => console.log('Service Worker registered'))
                .catch(err => console.log('Service Worker registration failed'));
        }

        // PWA install prompt
        let deferredPrompt;
        const installPrompt = document.getElementById('installPrompt');
        const installBtn = document.getElementById('installBtn');
        const closePrompt = document.getElementById('closePrompt');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installPrompt.style.display = 'block';
        });

        installBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                deferredPrompt = null;
                installPrompt.style.display = 'none';
            }
        });

        closePrompt.addEventListener('click', () => {
            installPrompt.style.display = 'none';
        });

        // Hide install prompt if already installed
        window.addEventListener('appinstalled', () => {
            installPrompt.style.display = 'none';
        });
    </script>
</body>
</html>
